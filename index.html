<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> PICNIC DE GIRLS PRE CUMPLEA√ëOS MEL <3 </title>

<!-- Fuentes -->
<link href="https://fonts.googleapis.com/css2?family=Sour+Gummy:wght@400;600&family=Comic+Neue:wght@300;400&display=swap" rel="stylesheet">

<style>
  /* -------- Pantalla de bloqueo (oscura con Sour Gummy) -------- */
  :root {
    --bg: #0a0a0f;
    --fg: #ffffff;
    --pink: #ffd6e7;
    --heart: #ff2b4f;
    --textGlow: 0 0 .6rem rgba(255, 214, 231, .9);
  }

  #passwordScreen {
    display: flex;
    height: 100vh;
    width: 100%;
    background-color: var(--bg);
    color: var(--fg);
    font-family: 'Sour Gummy', cursive;
  }

  .left {
    width: 40%;
  }

  .left img {
    width: 100%;
    height: 100vh;
    object-fit: cover;
  }

  .right {
    width: 60%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: #1a0013;
    color: var(--pink);
    text-align: center;
  }

  .right h2 {
    font-size: 2.2em;
    text-shadow: var(--textGlow);
    margin-bottom: 1em;
  }

  .right input {
    padding: 0.7em 1em;
    border-radius: 12px;
    border: none;
    outline: none;
    text-align: center;
    font-size: 1em;
    width: 220px;
    margin-bottom: 1em;
    background-color: #2a0020;
    color: var(--pink);
  }

  .right button {
    background-color: var(--heart);
    border: none;
    color: white;
    font-size: 1em;
    padding: 8px 18px;
    border-radius: 12px;
    cursor: pointer;
    transition: 0.3s;
  }

  .right button:hover {
    background-color: #ff4d72;
    transform: scale(1.05);
  }

  #errorText {
    color: #ffbaba;
    margin-top: 1em;
    display: none;
  }

  /* -------- P√°gina principal (rosadita) -------- */
  body {
    margin: 0;
    background-color: #ffe6f2;
    font-family: "Comic Neue", cursive;
    color: #b30059;
    text-align: center;
    overflow-x: hidden;
  }

  #mainContent {
    display: none;
    padding: 30px;
  }

  h1 {
    font-size: 2.3em;
    color: #cc0066;
    margin-bottom: 20px;
  }

  .mensaje-box {
    background-color: white;
    width: 85%;
    max-width: 650px;
    margin: 25px auto;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
  }

  input, textarea {
    width: 90%;
    padding: 10px;
    margin: 10px 0;
    border: 2px solid #f7a8c0;
    border-radius: 10px;
    font-size: 0.9em;
    background-color: #fff8fb;
  }

  textarea { resize: none; }

  button {
    background-color: #ff99cc;
    border: none;
    padding: 8px 18px;
    border-radius: 10px;
    font-size: 0.9em;
    cursor: pointer;
    color: white;
    transition: 0.3s;
  }

  button:hover { background-color: #ff66b2; }

  #subirFotoLabel {
    display: inline-block;
    background-color: #ff7ebf;
    color: white;
    padding: 8px 18px;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
    margin-top: 10px;
    font-size: 0.9em;
  }

  #subirFotoLabel:hover { background-color: #ff55aa; }

  #foto { display: none; }

  .mensajes {
    margin-top: 30px;
  }

  .mensaje {
    background-color: #fff0f6;
    border-radius: 15px;
    padding: 15px;
    margin: 15px auto;
    width: 80%;
    max-width: 650px;
    box-shadow: 0 0 8px rgba(0,0,0,0.1);
  }

  .mensaje h3 {
    font-size: 1.3em;
    color: #cc0066;
    margin-bottom: 8px;
  }

  .acciones button {
    background-color: #ff80bf;
    margin: 5px;
  }

  /* -------- Carrusel -------- */
  .carrusel {
    width: 280px;
    height: 180px;
    margin: 0 auto 25px;
    position: relative;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(255, 105, 180, 0.3);
  }

  .carrusel img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: none;
  }

  .carrusel img.active { display: block; }

  .flecha {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 182, 193, 0.6);
    border: none;
    color: #fff;
    font-size: 1.6em;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 50%;
  }

  .flecha:hover { background: #ff66b2; }

  .flecha.izq { left: 8px; }
  .flecha.der { right: 8px; }

  /* -------- Corazones flotando -------- */
  .corazon {
    position: fixed;
    bottom: -10px;
    color: rgba(255, 105, 180, 0.5);
    font-size: 16px;
    animation: flotar 6s linear infinite;
    z-index: 1;
    user-select: none;
  }

  @keyframes flotar {
    0% { transform: translateY(0) scale(1); opacity: 0.7; }
    100% { transform: translateY(-110vh) scale(1.5); opacity: 0; }
  }
</style>
</head>

<body>
  <!-- Pantalla de bloqueo -->
  <div id="passwordScreen">
    <div class="left">
      <img src="https://files.catbox.moe/opg5vs.jpeg" alt="Melanny y besos">
    </div>
    <div class="right">
      <h2> PICNIC DE GIRLS PRE CUMPLEA√ëOS MEL <3 </h2>
      <input type="password" id="passwordInput" placeholder="Contrase√±a...">
      <button onclick="checkPassword()">Entrar üíñ</button>
      <p id="errorText">üíî Clave incorrecta üíî</p>
    </div>
  </div>

  <!-- Contenido principal -->
  <div id="mainContent">
    <h1> PALABRAS LINDAS PARA LA CUMPLA√ëERA <3 </h1>

    <div class="carrusel" id="carrusel" style="display:none;">
      <button class="flecha izq" onclick="moverCarrusel(-1)">‚ùÆ</button>
      <button class="flecha der" onclick="moverCarrusel(1)">‚ùØ</button>
    </div>

    <div class="mensaje-box">
      <h3>Escribe tu mensaje para Mel </h3>
      <input type="text" id="nombre" placeholder="Tu nombre...">
      <textarea id="mensaje" rows="4" placeholder="Escribe algo bonito..."></textarea>
      <label id="subirFotoLabel" for="foto">A√±ade tu recuerdo fav üì∏</label>
      <input type="file" id="foto" accept="image/*">
      <br>
      <button onclick="agregarMensaje()">Guardar mensaje üíå</button>
    </div>

    <div class="mensajes" id="mensajes"></div>
  </div>

<script>

/* ------------------- CONTRASE√ëA ------------------- */
function checkPassword() {
  const input = document.getElementById("passwordInput").value.toLowerCase().trim();
  if (input === "mel") {
    document.getElementById("passwordScreen").style.display = "none";
    document.getElementById("mainContent").style.display = "block";
    actualizarCarrusel();
    iniciarCorazones();
  } else {
    document.getElementById("errorText").style.display = "block";
  }
}

/* ------------------- MENSAJES FIJOS ------------------- */

const fijos = [
    {
      id: 1001,
      nombre: "Nayeli",
      mensaje: `Bueno mi querida Mel, mi tocaya de segundo nombre jasjajsa, sabes que ya van varios a√±os desde que nos conocemossss y somos amigassss, desde el momento en que te conoc√≠, me ca√≠ste s√∫per bien, transmites una vibra hermosa, eres s√∫per ch√©vere y, sobre todo, muy divertida. Tienes mi mismo humor, esa esencia que solo t√∫ tienes, somos full raje cuando estamos con Daniele, los brosters, y siempre nos terminamos matando de risa.
Me alegra much√≠simo ser tu amiga, de verdad. Espero que disfrutes este momento porque es una sorpresa de parte de tus amigas, ya sabes, tus amigas incondicionales. Sabes lo mucho que te quiero y lo especial que eres para m√≠, puedes contar siempre conmigo‚ú®.
Te mereces lo mejor del mundo Melanny, estas son solo las previas a tu cumplea√±os, pero igual deseo que la pases s√∫per bien, que nos podamos divertir un mont√≥n y que sigas brillando como siempre.üéÇüéâü´∂üèª`,
      imagen: "https://files.catbox.moe/og9rmq.jpeg"
    },
    {
      id: 1002,
      nombre: "Juleyssi",
      mensaje: `Mi Mel, gracias por ser una buena amiga, y nunca juzgar. Nunca cambies y sabes que siempre te deseo felicidad y √©xito en tu vida ü©∑üôåüèª`,
      imagen: "https://files.catbox.moe/avo1fq.jpeg"
    },
    {
      id: 1003,
      nombre: "Lucero",
      mensaje: `Holaaaaa mi Melanny pimpolla feliz cumplea√±os adelantado JAJA, a pesar que fue corto el tiempo que nos conocimos eres una gran amiga, divertida, media loquita y la petisa del grupo xd, gracias por todas las risas compartidas y m√°s a√∫n cuando nos vacilas diciendo que llegar√°s temprano no es verdad.
Me alegra mucho haberte conocido espero que la pases incre√≠ble, sabes qu√© cuentas conmigo para cualquier cosita menos billullo porque ah√≠ s√≠ estoy igual que t√∫ xdddd`,
      imagen: "https://files.catbox.moe/pgzv0t.jpeg"
    },
    {
      id: 1004,
      nombre: "Amiga üíó",
      mensaje: `Feliz cumplea√±os mujer, s√© que a veces no hablamos mucho pero eso no cambia el hecho de que te quiera con todo mi coraz√≥n. Por m√°s a√±os juntas en amistad, sigue as√≠ nunca cambies te amo mucho ‚ù§Ô∏è  
(No soy buena para escribir) jssjsjsjsjs`,
      imagen: null
    }
];

/* ------------------ MENSAJES NORMALES ------------------ */

let mensajes = JSON.parse(localStorage.getItem("mensajesMelanny")) || [];

function agregarMensaje() {
  const nombre = document.getElementById("nombre").value.trim();
  const mensaje = document.getElementById("mensaje").value.trim();
  const foto = document.getElementById("foto").files[0];

  if (!nombre || !mensaje) {
    alert("Por favor completa tu nombre y mensaje üíï");
    return;
  }

  if (foto) {
    const lector = new FileReader();
    lector.onload = e => {
      const nuevo = { id: Date.now(), nombre, mensaje, imagen: e.target.result };
      guardarMensaje(nuevo);
    };
    lector.readAsDataURL(foto);
  } else {
    const nuevo = { id: Date.now(), nombre, mensaje, imagen: null };
    guardarMensaje(nuevo);
  }
}

function guardarMensaje(m) {
  mensajes.push(m);
  localStorage.setItem("mensajesMelanny", JSON.stringify(mensajes));
  mostrarMensajes();
  actualizarCarrusel();
  document.getElementById("nombre").value = "";
  document.getElementById("mensaje").value = "";
  document.getElementById("foto").value = "";
}

function mostrarMensajes() {
  const cont = document.getElementById("mensajes");
  cont.innerHTML = "";

  // mensajes fijos primero
  fijos.forEach(m => {
    const div = document.createElement("div");
    div.classList.add("mensaje");
    div.innerHTML = `
      <h3>${m.nombre} üíï</h3>
      <p>${m.mensaje}</p>
    `;
    cont.appendChild(div);
  });

  // luego los mensajes que escribe la gente
  mensajes.forEach(m => {
    const div = document.createElement("div");
    div.classList.add("mensaje");
    div.setAttribute("data-id", m.id);
    div.innerHTML = `
      <h3>${m.nombre} üíï</h3>
      <p>${m.mensaje}</p>
      <div class="acciones">
        <button onclick="editarMensaje(${m.id})">Editar</button>
        <button onclick="borrarMensaje(${m.id})">Borrar</button>
      </div>`;
    cont.appendChild(div);
  });
}

function editarMensaje(id) {
  const nuevo = prompt("Edita tu mensaje:");
  if (nuevo) {
    const i = mensajes.findIndex(m => m.id === id);
    mensajes[i].mensaje = nuevo;
    localStorage.setItem("mensajesMelanny", JSON.stringify(mensajes));
    mostrarMensajes();
  }
}

function borrarMensaje(id) {
  if (confirm("¬øSeguro que quieres borrar este mensaje?")) {
    mensajes = mensajes.filter(m => m.id !== id);
    localStorage.setItem("mensajesMelanny", JSON.stringify(mensajes));
    mostrarMensajes();
    actualizarCarrusel();
  }
}

/* ------------------- CARRUSEL ------------------- */

let indiceCarrusel = 0;
let intervaloCarrusel;

function actualizarCarrusel() {
  const cont = document.getElementById("carrusel");
  cont.innerHTML = `<button class='flecha izq' onclick='moverCarrusel(-1)'>‚ùÆ</button>
                    <button class='flecha der' onclick='moverCarrusel(1)'>‚ùØ</button>`;

  const fotosFijas = fijos.filter(m => m.imagen).map(m => m.imagen);
  const fotosUsuarios = mensajes.filter(m => m.imagen).map(m => m.imagen);

  const fotos = [...fotosFijas, ...fotosUsuarios];

  if (fotos.length === 0) { 
    cont.style.display = "none"; 
    return; 
  }

  fotos.forEach((img, i) => {
    const im = document.createElement("img");
    im.src = img;
    if (i === 0) im.classList.add("active");
    cont.appendChild(im);
  });

  cont.style.display = "block";

  if (intervaloCarrusel) clearInterval(intervaloCarrusel);
  intervaloCarrusel = setInterval(() => moverCarrusel(1), 4000);
}

function moverCarrusel(dir) {
  const imgs = document.querySelectorAll(".carrusel img");
  if (imgs.length === 0) return;
  imgs[indiceCarrusel].classList.remove("active");
  indiceCarrusel = (indiceCarrusel + dir + imgs.length) % imgs.length;
  imgs[indiceCarrusel].classList.add("active");
}

/* ------------------- CORAZONES ------------------- */
function iniciarCorazones() {
  setInterval(() => {
    const corazon = document.createElement("div");
    corazon.classList.add("corazon");
    corazon.textContent = "üíñ";
    corazon.style.left = Math.random() * 100 + "vw";
    corazon.style.fontSize = (12 + Math.random() * 10) + "px";
    document.body.appendChild(corazon);
    setTimeout(() => corazon.remove(), 6000);
  }, 400);
}

window.onload = mostrarMensajes;

</script>

</body>
</html>
